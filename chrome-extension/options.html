<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Configuraci√≥n - UniFi Protect Notifications</title>
  <link rel="stylesheet" href="options.css">
</head>
<body>
  <div class="container">
    <!-- Header -->
    <div class="header">
      <div class="header-content">
        <div class="logo">
          <img src="icons/icon48.png" alt="UniFi Protect" class="logo-icon">
          <h1>Configuraci√≥n UniFi Protect</h1>
        </div>
        <div class="header-actions">
          <button id="saveBtn" class="btn btn-primary">
            <span class="btn-icon">üíæ</span>
            Guardar Configuraci√≥n
          </button>
          <button id="resetBtn" class="btn btn-secondary">
            <span class="btn-icon">üîÑ</span>
            Restaurar Valores
          </button>
        </div>
      </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
      <!-- Server Configuration -->
      <div class="section">
        <div class="section-header">
          <h2>üîó Configuraci√≥n del Servidor</h2>
          <p>Configura la conexi√≥n con tu servidor UniFi Protect</p>
        </div>
        
        <div class="form-group">
          <label for="serverUrl">URL del Servidor</label>
          <input type="url" id="serverUrl" placeholder="http://localhost:3001" required>
          <small>URL completa del servidor donde est√° ejecut√°ndose el backend</small>
        </div>

        <div class="form-group">
          <label for="connectionTimeout">Timeout de Conexi√≥n (segundos)</label>
          <input type="number" id="connectionTimeout" min="5" max="60" value="30">
          <small>Tiempo m√°ximo para establecer conexi√≥n con el servidor</small>
        </div>

        <div class="form-group">
          <label for="reconnectAttempts">Intentos de Reconexi√≥n</label>
          <input type="number" id="reconnectAttempts" min="1" max="10" value="5">
          <small>N√∫mero m√°ximo de intentos de reconexi√≥n autom√°tica</small>
        </div>
      </div>

      <!-- Notification Settings -->
      <div class="section">
        <div class="section-header">
          <h2>üîî Configuraci√≥n de Notificaciones</h2>
          <p>Personaliza c√≥mo y cu√°ndo recibir notificaciones</p>
        </div>

        <div class="form-group">
          <label class="checkbox-label">
            <input type="checkbox" id="notificationsEnabled" checked>
            <span class="checkmark"></span>
            Habilitar Notificaciones del Navegador
          </label>
        </div>

        <div class="form-group">
          <label class="checkbox-label">
            <input type="checkbox" id="soundEnabled" checked>
            <span class="checkmark"></span>
            Habilitar Sonidos de Notificaci√≥n
          </label>
        </div>

        <div class="form-group">
          <label for="notificationDuration">Duraci√≥n de Notificaci√≥n (segundos)</label>
          <input type="number" id="notificationDuration" min="3" max="30" value="10">
          <small>Tiempo que permanece visible la notificaci√≥n</small>
        </div>

        <div class="form-group">
          <label for="maxNotifications">M√°ximo de Notificaciones Simult√°neas</label>
          <input type="number" id="maxNotifications" min="1" max="10" value="5">
          <small>N√∫mero m√°ximo de notificaciones que se pueden mostrar al mismo tiempo</small>
        </div>
      </div>

      <!-- Event Filters -->
      <div class="section">
        <div class="section-header">
          <h2>üéØ Filtros de Eventos</h2>
          <p>Selecciona qu√© tipos de eventos quieres recibir</p>
        </div>

        <div class="form-group">
          <label class="checkbox-label">
            <input type="checkbox" id="filtersEnabled" checked>
            <span class="checkmark"></span>
            Habilitar Filtros de Eventos
          </label>
        </div>

        <div class="filters-grid">
          <div class="filter-group">
            <h3>Tipos de Eventos</h3>
            <div class="filter-options">
              <label class="checkbox-label">
                <input type="checkbox" id="filterMotion" checked>
                <span class="checkmark"></span>
                Movimiento
              </label>
              <label class="checkbox-label">
                <input type="checkbox" id="filterPerson" checked>
                <span class="checkmark"></span>
                Persona
              </label>
              <label class="checkbox-label">
                <input type="checkbox" id="filterVehicle" checked>
                <span class="checkmark"></span>
                Veh√≠culo
              </label>
              <label class="checkbox-label">
                <input type="checkbox" id="filterPackage" checked>
                <span class="checkmark"></span>
                Paquete
              </label>
              <label class="checkbox-label">
                <input type="checkbox" id="filterDoorbell" checked>
                <span class="checkmark"></span>
                Timbre
              </label>
              <label class="checkbox-label">
                <input type="checkbox" id="filterSmartDetect" checked>
                <span class="checkmark"></span>
                Detecci√≥n Inteligente
              </label>
              <label class="checkbox-label">
                <input type="checkbox" id="filterSensor" checked>
                <span class="checkmark"></span>
                Sensor
              </label>
            </div>
          </div>

          <div class="filter-group">
            <h3>Niveles de Severidad</h3>
            <div class="filter-options">
              <label class="checkbox-label">
                <input type="checkbox" id="filterLow" checked>
                <span class="checkmark"></span>
                Baja
              </label>
              <label class="checkbox-label">
                <input type="checkbox" id="filterMedium" checked>
                <span class="checkmark"></span>
                Media
              </label>
              <label class="checkbox-label">
                <input type="checkbox" id="filterHigh" checked>
                <span class="checkmark"></span>
                Alta
              </label>
              <label class="checkbox-label">
                <input type="checkbox" id="filterCritical" checked>
                <span class="checkmark"></span>
                Cr√≠tica
              </label>
            </div>
          </div>
        </div>

        <div class="form-group">
          <label for="cameraFilter">Filtrar por C√°maras Espec√≠ficas</label>
          <select id="cameraFilter" multiple>
            <option value="">Todas las c√°maras</option>
          </select>
          <small>Mant√©n presionado Ctrl (Cmd en Mac) para seleccionar m√∫ltiples c√°maras</small>
        </div>
      </div>

      <!-- Advanced Settings -->
      <div class="section">
        <div class="section-header">
          <h2>‚öôÔ∏è Configuraci√≥n Avanzada</h2>
          <p>Opciones avanzadas para usuarios experimentados</p>
        </div>

        <div class="form-group">
          <label class="checkbox-label">
            <input type="checkbox" id="debugMode">
            <span class="checkmark"></span>
            Modo Debug
          </label>
          <small>Habilita logs detallados en la consola del navegador</small>
        </div>

        <div class="form-group">
          <label class="checkbox-label">
            <input type="checkbox" id="autoReconnect" checked>
            <span class="checkmark"></span>
            Reconexi√≥n Autom√°tica
          </label>
          <small>Intenta reconectar autom√°ticamente si se pierde la conexi√≥n</small>
        </div>

        <div class="form-group">
          <label for="heartbeatInterval">Intervalo de Heartbeat (segundos)</label>
          <input type="number" id="heartbeatInterval" min="10" max="300" value="30">
          <small>Frecuencia con la que se env√≠a un ping al servidor para mantener la conexi√≥n</small>
        </div>

        <div class="form-group">
          <label for="eventHistorySize">Tama√±o del Historial de Eventos</label>
          <input type="number" id="eventHistorySize" min="10" max="100" value="50">
          <small>N√∫mero m√°ximo de eventos a mantener en el historial local</small>
        </div>
      </div>

      <!-- Test Section -->
      <div class="section">
        <div class="section-header">
          <h2>üß™ Pruebas y Diagn√≥stico</h2>
          <p>Herramientas para probar la configuraci√≥n</p>
        </div>

        <div class="test-actions">
          <button id="testConnectionBtn" class="btn btn-outline">
            <span class="btn-icon">üîó</span>
            Probar Conexi√≥n
          </button>
          <button id="testNotificationBtn" class="btn btn-outline">
            <span class="btn-icon">üîî</span>
            Probar Notificaci√≥n
          </button>
          <button id="clearHistoryBtn" class="btn btn-outline">
            <span class="btn-icon">üóëÔ∏è</span>
            Limpiar Historial
          </button>
          <button id="exportConfigBtn" class="btn btn-outline">
            <span class="btn-icon">üì§</span>
            Exportar Configuraci√≥n
          </button>
          <button id="importConfigBtn" class="btn btn-outline">
            <span class="btn-icon">üì•</span>
            Importar Configuraci√≥n
          </button>
        </div>

        <div class="test-results" id="testResults">
          <!-- Los resultados de las pruebas aparecer√°n aqu√≠ -->
        </div>
      </div>
    </div>

    <!-- Footer -->
    <div class="footer">
      <div class="footer-content">
        <div class="footer-info">
          <span>UniFi Protect Notifications v1.0.0</span>
          <span>‚Ä¢</span>
          <span>Desarrollado por David</span>
        </div>
        <div class="footer-links">
          <a href="#" id="helpLink">Ayuda</a>
          <span>‚Ä¢</span>
          <a href="#" id="feedbackLink">Enviar Feedback</a>
        </div>
      </div>
    </div>
  </div>

  <!-- Hidden file input for import -->
  <input type="file" id="importFileInput" accept=".json" style="display: none;">

  <script src="options.js"></script>
</body>
</html>
