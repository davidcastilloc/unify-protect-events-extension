# 🚨 CONFIGURACIÓN CRÍTICA - SISTEMA NUNCA DESCONECTADO
# Configuración del servidor
PORT=3000
NODE_ENV=production

# Configuración UniFi Protect
UNIFI_HOST=192.168.1.100
UNIFI_PORT=443
UNIFI_USERNAME=admin
UNIFI_PASSWORD=tu_password_seguro
UNIFI_SSL_VERIFY=false

# Configuración de seguridad
JWT_SECRET=tu_jwt_secret_muy_seguro_aqui
CORS_ORIGIN=http://localhost:3000

# Configuración de logging
LOG_LEVEL=info
LOG_FILE=logs/app.log

# Configuración de conexión
UNIFI_REAL_CONNECTION=true

# 🚨 CONFIGURACIÓN CRÍTICA - UNIFI PROTECT
# Heartbeat ultra-agresivo
UNIFI_HEARTBEAT_INTERVAL=2000                    # Ping cada 2 segundos
UNIFI_HEARTBEAT_TIMEOUT=5000                     # Timeout de 5 segundos
UNIFI_WS_HANDSHAKE_TIMEOUT=10000                # Timeout de handshake más agresivo

# Reconexión instantánea con backoff exponencial
UNIFI_BASE_RECONNECT_DELAY=100                  # 100ms base (muy rápido)
UNIFI_MAX_RECONNECT_DELAY=5000                  # Máximo 5 segundos
UNIFI_MAX_RECONNECT_ATTEMPTS=50                 # Muchos intentos antes del circuit breaker

# Circuit breaker inteligente
UNIFI_CIRCUIT_BREAKER_THRESHOLD=10              # 10 fallos antes de abrir
UNIFI_CIRCUIT_BREAKER_TIMEOUT=60000             # 1 minuto de pausa

# Buffer de eventos críticos
UNIFI_EVENT_BUFFER_SIZE=500                     # 500 eventos en buffer

# 🚨 CONFIGURACIÓN CRÍTICA - WEBSOCKET CLIENTES
# Heartbeat ultra-agresivo para clientes
WS_CRITICAL_PING_INTERVAL=3000                  # Ping cada 3 segundos
WS_CRITICAL_TIMEOUT=10000                       # Timeout de 10 segundos
WS_CONNECTION_TIMEOUT=30000                     # Timeout de conexión
WS_PING_INTERVAL=3000                           # Ping cada 3 segundos (override del básico)

# Configuración de reconexión de clientes
WS_MAX_RECONNECT_ATTEMPTS=100                   # Muchos intentos de reconexión
WS_RECONNECT_DELAY=1000                         # Reconexión rápida
WS_MAX_RECONNECT_DELAY=10000                    # Máximo 10 segundos

# 🚨 CONFIGURACIÓN DE MONITOREO CRÍTICO
CRITICAL_MONITORING_ENABLED=true
CRITICAL_ALERTS_ENABLED=true
CRITICAL_LOG_LEVEL=debug

# Configuración de persistencia (opcional)
EVENT_PERSISTENCE=true
EVENT_STORAGE_PATH=./data/events
EVENT_CLEANUP_INTERVAL=3600000                  # Limpiar eventos cada hora

# Configuración de failover (opcional - para múltiples endpoints)
UNIFI_PRIMARY_HOST=192.168.1.100
UNIFI_SECONDARY_HOST=192.168.1.101
UNIFI_FAILOVER_ENABLED=false

# Configuración de métricas
METRICS_ENABLED=true
METRICS_INTERVAL=30000                          # Métricas cada 30 segundos
